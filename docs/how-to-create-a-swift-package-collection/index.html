<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="https://theswiftdev.com/how-to-create-a-swift-package-collection/">
    
    

    <title>How to create a Swift package collection? - The.Swift.Dev.</title>
    <meta name="description" content="In this tutorial I&#39;m going to show you how to create your own package collection from your favorite Swift libraries.">

    <meta property="og:url" content="https://theswiftdev.com/how-to-create-a-swift-package-collection/">
    <meta property="og:title" content="How to create a Swift package collection? - The.Swift.Dev.">
    <meta property="og:description" content="In this tutorial I&#39;m going to show you how to create your own package collection from your favorite Swift libraries.">
    

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How to create a Swift package collection? - The.Swift.Dev.">
    <meta name="twitter:description" content="In this tutorial I&#39;m going to show you how to create your own package collection from your favorite Swift libraries.">
    

    <link rel="stylesheet" href="https://theswiftdev.com/css/modern-normalize.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/modern-base.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/variables.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/base.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/grid.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/navigation.css">
    <link rel="stylesheet" href="https://theswiftdev.com/css/footer.css">
    

    

    <link rel="shortcut icon" href="https://theswiftdev.com/icons/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://theswiftdev.com/icons/icon-320.png" type="image/png">
    
    <link rel="apple-touch-icon" href="https://theswiftdev.com/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="https://theswiftdev.com/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://theswiftdev.com/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://theswiftdev.com/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://theswiftdev.com/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://theswiftdev.com/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://theswiftdev.com/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://theswiftdev.com/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://theswiftdev.com/icons/apple-touch-icon-180x180.png">

    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
        media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"
        media="(prefers-color-scheme: dark)"
    >
    <link rel="stylesheet" href="https://theswiftdev.com/css/style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

</head>

<body>

    <div id="site-container">

    <header id="navigation">
        <a href="/">
            <picture>
                <img
                    src="https://theswiftdev.com/images/logos/logo.png"
                    alt="Logo of The.Swift.Dev."
                    title="The.Swift.Dev."
                >
            </picture>
        </a>
        <nav>
            <input type="checkbox" id="primary-menu-button" name="menu-button" class="menu-button">
            <label for="primary-menu-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </label>
            <div class="menu-items">
                <a href="/page/1/">Posts</a>
            <a href="/tags/">Tags</a>
            <a href="/authors/">Authors</a>
            <a href="/practical-server-side-swift/">My Book</a>
            </div>
        </nav>
    </header>

    <main id="page-container">
    
    <div class="article-with-toc">
        <div>
            <article class="post">
                <div class="meta">            
                    <time datetime="2022-01-20T16:20:00.000Z">1/20/22 4:20‚ÄØPM</time>
                     &middot; <span class="reading-time">4 min read</span>
                    
                </div>
                <h1>How to create a Swift package collection?</h1>
                <hr>
                <p>In this tutorial I&#39;m going to show you how to create your own package collection from your favorite Swift libraries.</p>
                <section>
                
                <h2 id="what-is-a-swift-package-collection">What is a Swift package collection?</h2><p>A <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0291-package-collections.md" target="_blank">Swift package collection</a> is a curated list of packages. Swift Package Manager users can subscribe to these collections, this way they are going to be able to search libraries and discover new ones. A collection is not equal with a package index or registry service, but usually means a smaller (somehow related) group of Swift packages.</p><p>For example if you take a look at the <a href="https://swiftpackageindex.com/" target="_blank">Swift Package Index</a> website, it‚Äôs all about discovering new Swift packages, but each author can have its own collection, so if we go to the <a href="https://swiftpackageindex.com/vapor" target="_blank">Vapor</a> page, there you can see the URL of the Swift package collection link. This collection only contains those packages that are authored by Vapor. It‚Äôs just a small, curated subset of the entire content of the Swift Package Index website.</p><p>So we can say that a package registry service is focused on hosting and serving package sources, a package index service is all about discovering and searching packages and a package collection is usually a smaller curated list that can be easily shared with others. It can be a list of your preferred Swift dependencies that your company uses for building new projects. üí°</p><h2 id="preparing-the-environment">Preparing the environment</h2><p>In order to create a package collection, you‚Äôll have to install a tool called <a href="https://github.com/apple/swift-package-collection-generator" target="_blank">Swift package collection generator</a>. It was created by Apple and it was introduced in this <a href="https://developer.apple.com/videos/play/wwdc2021/10197/" target="_blank">WWDC session</a> in 2021.</p><p>You can install the package collection generator by running these commands:</p><pre><code class="language-sh">git clone https://github.com/apple/swift-package-collection-generator
cd swift-package-collection-generator 
swift build --configuration release

sudo install .build/release/package-collection-generate /usr/local/bin/package-collection-generate
sudo install .build/release/package-collection-diff /usr/local/bin/package-collection-diff
sudo install .build/release/package-collection-sign /usr/local/bin/package-collection-sign
sudo install .build/release/package-collection-validate /usr/local/bin/package-collection-validate
</code></pre><p>You‚Äôll also need a certificate and a key in order to sign a package collection. Signing packages are not required, but it is recommended. The signature can be added with the package-collection-sign command, but first of all you‚Äôll need a developer certificate from the <a href="https://developer.apple.com/account/resources/certificates/list" target="_blank">Apple developer portal</a>. üî®</p><p>Before you go to the dev portal, simply launch the Keychain Access app and use the Keychain Access > Certificate Assitant > Request a Certificate from a Certificate Authority menu item to generate a new CertificateSigningRequest.certSigningRequest file. Double check your email address and select the Saved to disk option and press the Continue button to generate the file.</p><p>Now you can use the CSR file to generate a new certificate using the Apple dev portal. Press the plus icon next to the Certificates text and scroll down to the Services section, there you should see a Swift Package Collection Certificate option, select that one and press the Continue button. Upload your CSR file and press Continue again, now you should be able to download the certificate that can be used to properly sign your Swift package collections. üñä</p><p>We still have to export the private key that‚Äôs behind the certificate and we also have to convert it to the right format before we can start dealing with the contents of the package collection itself. Double click the downloaded certificate file, this will add it to your keychain. Find the certificate (click My Certificates on the top), right click on it and choose the Export menu item, save the Certificates.p12 file somewhere on your disk. Don‚Äôt forget to add password protection to the exported file, otherwise the key extraction won‚Äôt work.</p><p>Now we should use the openssl to extract the private key from the p12 file using an RSA format.</p><pre><code class="language-sh">openssl pkcs12 -nocerts -in Certificates.p12 -out key.pem && openssl rsa -in key.pem -out rsa_key.pem
</code></pre><p>Run the command and enter the password that you‚Äôve used to export the p12 file. This command should extract the required key using the proper format for the package collection sign command. You‚Äôll need both the downloaded certificate and the RSA key file during the package creation. üì¶</p><h2 id="building-a-swift-package-collection">Building a Swift package collection</h2><p>It is time to create a brand new Swift package collection. I‚Äôm going to build one for my Swift repositories located under the <a href="https://github.com/binarybirds/" target="_blank">Binary Birds</a> organization. Everything starts with a JSON file.</p><pre><code class="language-json">{
    "name": "Binary Birds packages",
    "overview": "This collection contains the our favorite Swift packages.",
    "author": {
        "name": "Tibor B√∂decs"
    },
    "keywords": [
        "favorite"
    ],
    "packages": [
        {
            "url": "https://github.com/binarybirds/swift-html"
        },
        {
            "url": "https://github.com/BinaryBirds/liquid"
        },
        {
            "url": "https://github.com/BinaryBirds/liquid-kit"
        },
        {
            "url": "https://github.com/BinaryBirds/liquid-local-driver"
        },
        {
            "url": "https://github.com/BinaryBirds/liquid-aws-s3-driver"
        },
        {
            "url": "https://github.com/BinaryBirds/spec"
        }
    ]
}
</code></pre><p>You can read more about the <a href="https://github.com/apple/swift-package-manager/blob/main/Sources/PackageCollectionsModel/Formats/v1.md" target="_blank">Package Collection format file on GitHub</a>, but if you want to stick with the basics, it is pretty much self-explanatory. You can give a name and a short overview description to your collection, set the author, add some related keywords to improve the search experience and finally define the included packages via URLs.</p><p>Save this file using the input.json name. If you run the generate command with this input file it‚Äôll try to fetch the repositories listed inside the JSON file. In order to get more metadata information about the GitHub repositories you can also provide an -auth-token parameter with your personal access token, you can read more about the available options by running the command with the -h or ‚Äìhelp flag (package-collection-generate -h).</p><pre><code class="language-sh">package-collection-generate input.json ./output.json
</code></pre><p>The generated output file will contain the required package collection metadata, but we still have to sign the output file if we want to properly use it as a collection file. Of course the sign step is optional, but it is recommend to work with signed collections. üòá</p><pre><code class="language-sh">package-collection-sign output.json collection.json rsa_key.pem swift_package.cer
</code></pre><p>Finally you should upload your collection.json file to a public hosting service. For example I‚Äôve created a simple <a href="https://github.com/binarybirds/spm/" target="_blank">SPM</a> repository under my organization and I can use the <a href="https://raw.githubusercontent.com/BinaryBirds/SPM/main/collection.json" target="_blank">raw file URL</a> of the collection JSON file to use it with SPM or Xcode.</p><p>If you prefer the command line you have several options to manipulate Swift Package Collections. For more info you can read the related <a href="https://github.com/apple/swift-package-manager/blob/main/Documentation/PackageCollections.md#remove-subcommand" target="_blank">Swift Package Manager</a> documentation, but here are some example commands that you can use to add, list, refresh search or remove a collection:</p><pre><code class="language-sh">swift package-collection list
swift package-collection add https://raw.githubusercontent.com/BinaryBirds/SPM/main/collection.json
swift package-collection refresh
swift package-collection search --keywords html

swift package-collection remove https://raw.githubusercontent.com/BinaryBirds/SPM/main/collection.json
</code></pre><p>If you are developing apps using Xcode, you can use the Package Dependencies menu under your project settings to manage your package dependencies and use package collections.</p><p>Swift Package Collections are great if you want to organize your Swift libraries and you want to share them with others. If you are a heavy Xcode user you‚Äôll enjoy using collections for sure. ‚ò∫Ô∏è</p>
                    
                </section>
    
                <footer>
                    <br>
                    <time datetime=""></time>
    
                    
                    <div class="author-list">
                        <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                        <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                        </a>
                    </div>
                    <div class="tag-list">
                        <a href="https://theswiftdev.com/tags/swift-package-manager/"><small>Swift Package Manager</small></a>
                    </div>
                    
                    <p>
                        <a href="https://x.com/intent/tweet?via=tiborbodecs&amp;hashtags=SwiftLang&amp;url=https://theswiftdev.com/how-to-create-a-swift-package-collection/" target="_blank">
                            <strong>Share this article</strong>
                        </a>
                        <br>Thank you. üôè
                    </p>
                </footer>
                            
                <section class="group">
                    <h4>Related posts</h4>                
                    <div class="grid grid-221">
                        <div class="card">
                            
                            
                            <div class="author-list">
                                <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                                <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                                </a>
                            </div>
                            <div class="meta">
                                <time datetime="2017-11-19T16:20:00.000Z">11/19/17 4:20‚ÄØPM</time>
                                 &middot; <span class="reading-time">5 min read</span>
                            </div>
                            
                            <h2 class="title"><a href="https://theswiftdev.com/swift-package-manager-tutorial/" target="">Swift Package Manager tutorial</a></h2>
                            <hr>
                            <p>Learn how to use the Swift Package Manager to handle external dependencies, create your library or app on macOS and Linux.</p>
                        
                            <div class="tag-list">
                                <a href="https://theswiftdev.com/tags/swift-package-manager/"><small>Swift Package Manager</small></a>
                            </div>
                        </div>
                    <div class="card">
                            
                            
                            <div class="author-list">
                                <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                                <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                                </a>
                            </div>
                            <div class="meta">
                                <time datetime="2022-05-16T16:20:00.000Z">5/16/22 4:20‚ÄØPM</time>
                                 &middot; <span class="reading-time">9 min read</span>
                            </div>
                            
                            <h2 class="title"><a href="https://theswiftdev.com/beginners-guide-to-swift-package-manager-command-plugins/" target="">Beginner&#39;s guide to Swift package manager command plugins</a></h2>
                            <hr>
                            <p>Learn how to create command plugins for the Swift Package Manager to execute custom actions using SPM and other tools.</p>
                        
                            <div class="tag-list">
                                <a href="https://theswiftdev.com/tags/swift-package-manager/"><small>Swift Package Manager</small></a>
                            </div>
                        </div>
                    <div class="card">
                            
                            
                            <div class="author-list">
                                <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                                <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                                </a>
                            </div>
                            <div class="meta">
                                <time datetime="2022-01-20T16:20:00.000Z">1/20/22 4:20‚ÄØPM</time>
                                 &middot; <span class="reading-time">4 min read</span>
                            </div>
                            
                            <h2 class="title"><a href="https://theswiftdev.com/how-to-create-a-swift-package-collection/" target="">How to create a Swift package collection?</a></h2>
                            <hr>
                            <p>In this tutorial I&#39;m going to show you how to create your own package collection from your favorite Swift libraries.</p>
                        
                            <div class="tag-list">
                                <a href="https://theswiftdev.com/tags/swift-package-manager/"><small>Swift Package Manager</small></a>
                            </div>
                        </div>
                    <div class="card">
                            
                            
                            <div class="author-list">
                                <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                                <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                                </a>
                            </div>
                            <div class="meta">
                                <time datetime="2022-05-24T16:20:00.000Z">5/24/22 4:20‚ÄØPM</time>
                                 &middot; <span class="reading-time">4 min read</span>
                            </div>
                            
                            <h2 class="title"><a href="https://theswiftdev.com/introduction-to-spm-artifact-bundles/" target="">Introduction to SPM artifact bundles</a></h2>
                            <hr>
                            <p>In this tutorial I&#39;m going to show you how to use the new binary target related artifact bundle using the Swift package manager.</p>
                        
                            <div class="tag-list">
                                <a href="https://theswiftdev.com/tags/swift-package-manager/"><small>Swift Package Manager</small></a>
                            </div>
                        </div>
                    </div>
                </section>
    
            </article>
        </div>
        
        <div>
            <div class="book">
                <a href="https://theswiftdev.gumroad.com/l/practical-server-side-swift" target="_blank">
                    <img src="https://theswiftdev.com/book/practical-server-side-swift-cover.png" alt="Practical Server Side Swift cover image">
                </a>
                <h3>
                    <a href="https://theswiftdev.gumroad.com/l/practical-server-side-swift" target="_blank">Get the Practical Server Side Swift book</a>
                </h3>
                <p>Swift on the server is an amazing new opportunity to build fast, safe and scalable backend apps. Write your very first web-based application by using your favorite programming language. Learn how to build a modular blog engine using the latest version of the Vapor 4 framework. This book will help you to design and create modern APIs that'll allow you to share code between the server side and iOS. Start becoming a full-stack Swift developer.</p>
                <a class="cta" href="https://theswiftdev.gumroad.com/l/practical-server-side-swift" target="_blank">Available on Gumroad</a>
            </div>
            
            
            <aside id="toc">
                <h4>On this page</h4>
                <ul>
                    <li class="level-2">
                        <a href="#what-is-a-swift-package-collection">What is a Swift package collection?</a>
                    </li>
        <li class="level-2">
                        <a href="#preparing-the-environment">Preparing the environment</a>
                    </li>
        <li class="level-2">
                        <a href="#building-a-swift-package-collection">Building a Swift package collection</a>
                    </li>
                </ul>
            </aside>
            
    
        </div>
    </div>
    
    </main>

    <footer id="site-footer">
        <div class="grid grid-421">
    
            <picture>
                <img
                    id="logo-image"
                    src="https://theswiftdev.com/images/logos/logo-large.png"
                    alt="Logo of The.Swift.Dev."
                    title="The.Swift.Dev."
                >
            </picture>
            
            <div>
                <span style="display: block; height: 32px;">&nbsp;</span>
                <h4>The.Swift.Dev</h4>
                <p><small><a href="https://theswiftdev.com/" target="_blank">theswiftdev.com</a></small></p>
                <ul>
                    <li><a href="https://github.com/theswiftdev/" target="_blank">GitHub</a></li>
                    <li><a href="https://theswiftdev.com/rss.xml" target="_blank">RSS</a></li>
                    <li><a href="https://theswiftdev.com/sitemap.xml" target="_blank">Sitemap</a></li>
                </ul>
            </div>
            
            <div>
                
            </div>
            
            <div>
                <a href="https://theswiftdev.com/authors/tibor-bodecs/">
                <img class="small rounded" src="https://theswiftdev.com/assets/authors/tibor-bodecs/tibor-bodecs.jpeg" alt="Tibor B√∂decs">
                </a>
                <h4><a href="https://theswiftdev.com/authors/tibor-bodecs/">Tibor B√∂decs</a></h4>
                <p><small><a href="https://binarybirds.com/" target="_blank">Binary Birds Kft.</a></small></p>
                <ul>
                    <li><a href="mailto:mail.tib@gmail.com" target="_blank">Email</a></li>
                    <li><a href="https://github.com/tib/" target="_blank">GitHub</a></li>
                    <li><a href="https://x.com/tiborbodecs" target="_blank">X (Twitter)</a></li>
                    <li><a href="https://mastodon.social/@tiborbodecs" target="_blank">Mastodon</a></li>
                </ul>
            </div>
            
        </div>
        
        <section class="grid grid-221">
            <small>Tibor B√∂decs &copy; 2015 - 2025</small>
            <small>This site was generated using <a href="https://swift.org/" target="_blank">Swift</a> & <a href="https://github.com/binarybirds/toucan" target="_blank">Toucan</a>.</small>
        </section>
    </footer>

    </div>

    
</body>
</html>
